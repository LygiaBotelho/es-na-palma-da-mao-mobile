<ion-view>
	<ion-nav-title>
		Alertas
	</ion-nav-title>
	<div class="spinner-container" ng-if="uiState.loading">
		<ion-spinner icon="android"></ion-spinner>
	</div>
	<ion-content id="state-warning-list">
		<md-list>
			<md-subheader ng-if="vm.warnings.length" class="md-no-sticky">
				<md-icon class="alert-icon" md-font-icon="ion-alert-circled">
				</md-icon>
				{{ ::vm.warnings.length }} Alertas
			</md-subheader>
			<md-list-item class="md-2-line" ng-repeat="warning in vm.warnings" ng-class="warning.level">
				<div class="md-padding" flex>
					<div>
						<div class="md-list-item-text">
							<h3 ng-class="warning.level">{{::warning.title}}</h3>
							<strong><span class="warning-date">{{ ::warning.beginDate | date: 'dd/MM/yyyy HH:mm' }}</span></strong>
						</div>
						<a class="maps-link" ng-click="vm.openLocation(warning.region.center.latitude, warning.region.center.longitude, warning.title)"><i class="fa fa-map-marker" aria-hidden="true"></i></a>
					</div>
					<p class="message">{{::warning.message}}</p>
				</div>
				<md-divider></md-divider>
			</md-list-item>
		</md-list>
		<error-message error="uiState.error">
			<remark ng-if="!uiState.error.handled">Não foi possível consultar alertas dos bombeiros</remark>
		</error-message>
		<message ng-if="vm.warningsPopulated && !vm.warnings.length" text="Nenhum alerta encontrado"><message>
	</ion-content>
</ion-view>