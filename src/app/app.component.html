<ion-side-menus enable-menu-with-back-views="true">
    <ion-side-menu-content>
        <ion-nav-bar class="material-background-nav-bar capitalize" ng-class="{'espm-header-no-shadow': $ctrl.noHeaderShadow}">
            <ion-nav-buttons side="left">
                <a class="button button-icon button-clear ion-navicon" menu-toggle="left" ng-click="$ctrl.toggleLeft()"></a>
            </ion-nav-buttons>
        </ion-nav-bar>
        <ion-nav-view name="content"></ion-nav-view>
    </ion-side-menu-content>
    <md-sidenav md-component-id="left" on-swipe-left="$ctrl.onCloseButtonClick()" on-drag-left="$ctrl.onCloseButtonClick()">
        <ion-content id="main-side-bar">
            
            <!-- user info-->
            <user-info user="$ctrl.user"></user-info>

            <!-- Menu -->
            <menu ng-if="$ctrl.menu" 
                  menu="$ctrl.menu" 
                  user="$ctrl.user" 
                  on-item-click="$ctrl.navigateTo($locals)" 
                  on-close-button-click="$ctrl.closeSideNav()" 
                  on-home-click="$ctrl.navigateToHome()"
                  on-logout-click="$ctrl.logout()">
            </menu>
        </ion-content>
    </md-sidenav>
</ion-side-menus>