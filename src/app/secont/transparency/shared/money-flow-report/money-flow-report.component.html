<div ng-if="$ctrl.moneyFlow" class="money-flow-report">
	<report-title title="$ctrl.title" info="$ctrl.info"></report-title>
	
	<pie-chart data="$ctrl.chart" ng-if="$ctrl.showChart"></pie-chart>

	<report-list ng-if="$ctrl.items.length" sort="$ctrl.sort">
		<report-list-summary on-sort-click="$ctrl.sort = $locals.sort">
			{{$ctrl.total | currency}}
		</report-list-summary>
		<report-list-item ng-repeat="item in $ctrl.items track by $index" 
						  ng-click="::$ctrl.onClick(item)" 
						  ng-style="{'border-left': ($ctrl.showChart ? 20 : 0) +  'px solid {{item.color}}'}">
			<div class="r-item-details">
				<h3 class="r-item-label capitalize">{{item.label}}</h3>
				<p class="r-item-value">{{item.value | currency}}</p>
			</div>
			<div class="r-item-percentage" ng-if="item.percentage < 1">
				&lt;1%
			</div>
			<div class="r-item-percentage" ng-if="item.percentage >= 1">
				{{item.percentage}}%
			</div>
		</report-list-item>
	</report-list>
	<last-update date="::$ctrl.lastUpdate"></last-update>
</div>